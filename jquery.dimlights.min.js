(function(F){var E={opacity:0.85,classes:[],softBg:false,hideTarget:true,closeOnClick:false,};var B=F(window).width();var G=F(window).height();var A;var D;var I;var C;var H;F.fn.dimTheLights=function(K){if(!K){C=F.extend({},E)}else{if(typeof (K)){C=F.extend({},E,K)}}H=this;F("body").append('<div id="dtl_overlay"></div>');F("#dtl_overlay").width(B);F("#dtl_overlay").height(G);F("#dtl_overlay").fadeTo(200,C.opacity);A=this.offset().left;D=this.offset().top;F(window).bind("resize",function(){A=H.offset().left;D=H.offset().top;I.css("top",D);I.css("left",A)});I=this.clone();I.appendTo("body");I.css("top",D);I.css("left",A);I.addClass("dtl_clone");var L=this.width();var J=this.height();I.width(L);I.height(J);if(C.background){I.css("background-color",C.background)}if(C.softBg){I.css("box-shadow","0px 0px 10px 5px "+C.background);I.css("-webkit-box-shadow","0px 0px 10px 5px "+C.background);I.css("-moz-box-shadow","0px 0px 10px 5px "+C.background);I.css("border-radius","2px");I.css("-webkit-border-radius","2px");I.css("-moz-border-radius","2px")}for(c in C.classes){I.addClass(C.classes[c])}if(C.closeOnClick){F(".dtl_clone").click(function(){F("#dtl_overlay").fadeOut(200,function(){F(this).detach();I.remove()})})}F("#dtl_overlay").live("click",function(){F(this).fadeOut(200,function(){F(this).detach();I.detach()})});F(window).bind("resize",function(){B=F(window).width();G=F(window).height();F("#dtl_overlay").width(B);F("#dtl_overlay").height(G)})}})(jQuery);