(function(G){var C=G(window).width();var H=G(window).height();var A;var E;var J;var D;var I;var F={opacity:0.85,classes:[],softBg:false,hideTarget:true,closeOnClick:false,};var B={destroy:function(){G("#dtl_overlay").fadeOut(200,function(){I.css("visibility","visible");G(this).detach();J.remove()})}};G.fn.dimTheLights=function(L){if(!L){D=G.extend({},F)}else{if(typeof (L)){D=G.extend({},F,L)}else{console.error()}}I=this;G("body").append('<div id="dtl_overlay"></div>');G("#dtl_overlay").width(C);G("#dtl_overlay").height(H);G("#dtl_overlay").fadeTo(200,D.opacity);A=this.offset().left;E=this.offset().top;G(window).bind("resize",function(){A=I.offset().left;E=I.offset().top;J.css("top",E);J.css("left",A)});J=this.clone();J.appendTo("body");J.css("top",E);J.css("left",A);J.addClass("dtl_clone");var M=this.width();var K=this.height();J.width(M);J.height(K);if(D.background){J.css("background-color",D.background)}if(D.softBg){J.css("box-shadow","0px 0px 10px 5px "+D.background);J.css("-webkit-box-shadow","0px 0px 10px 5px "+D.background);J.css("-moz-box-shadow","0px 0px 10px 5px "+D.background);J.css("border-radius","3px");J.css("-webkit-border-radius","3px");J.css("-moz-border-radius","3px")}for(c in D.classes){J.addClass(D.classes[c])}D.hideTarget?I.css("visibility","hidden"):false;if(D.closeOnClick){G(".dtl_clone").click(function(){B.destroy()})}G("#dtl_overlay").live("click",function(){B.destroy()});G(window).bind("resize",function(){C=G(window).width();H=G(window).height();G("#dtl_overlay").width(C);G("#dtl_overlay").height(H)})}})(jQuery);