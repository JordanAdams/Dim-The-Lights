(function(F){if(F(window).height()>F("html").height()){var G=F(window).height()}else{var G=F("html").height()}if(F(window).width()>F("html").width()){screen_width=F(window).width()}else{screen_width=F("html").width()}var A;var D;var I;var C;var H;var E={opacity:0.85,classes:[],softBg:false,hideTarget:true,closeOnClick:false,};var B={destroy:function(){F("#dtl_overlay").fadeOut(200,function(){H.css("visibility","visible");F(this).detach();I.remove()})},resize_overlay:function(){if(F(window).height()>F("html").height()){G=F(window).height()}else{G=F("html").height()}if(F(window).width()>F("html").width()){screen_width=F(window).width()}else{screen_width=F("html").width()}F("#dtl_overlay").width(screen_width);F("#dtl_overlay").height(G)}};F.fn.dimTheLights=function(K){if(!K){C=F.extend({},E)}else{if(typeof (K)){C=F.extend({},E,K)}else{if(K==="destroy"){B.destroy();alert("testing")}else{console.error(K+"is not a valid argument for dimTheLights()")}}}H=this;F("body").append('<div id="dtl_overlay"></div>');B.resize_overlay();F("#dtl_overlay").fadeTo(200,C.opacity);A=this.offset().left;D=this.offset().top;I=this.clone();I.appendTo("body");I.addClass("dtl_clone");A=H.offset().left;D=H.offset().top;I.css("top",D);I.css("left",A);var L=this.width();var J=this.height();I.width(L);I.height(J);if(C.background){I.css("background-color",C.background)}if(C.softBg){I.css("box-shadow","0px 0px 10px 5px "+C.background);I.css("-webkit-box-shadow","0px 0px 10px 5px "+C.background);I.css("-moz-box-shadow","0px 0px 10px 5px "+C.background);I.css("border-radius","3px");I.css("-webkit-border-radius","3px");I.css("-moz-border-radius","3px")}for(c in C.classes){I.addClass(C.classes[c])}C.hideTarget?H.css("visibility","hidden"):false;if(C.closeOnClick){F(".dtl_clone").click(function(){B.destroy()})}F("#dtl_overlay").live("click",function(){B.destroy()});F(window).bind("resize",function(){B.resize_overlay();A=H.offset().left;D=H.offset().top;I.css("top",D);I.css("left",A)})}})(jQuery);